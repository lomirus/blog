# 更新日志 （2020/11/25 ~ 12/18）

初始创建于：***2020/11/25***

最后编辑于：***2020/12/18***

## 2020/12/18

### 开发内容

* 文章页面内增加了目录按钮（暂时不能使用）；
* 修复了在 Firefox 中响应式布局的临界值无效等问题，同时进一步重构并优化了响应式布局的相关代码；

### 开发计划
* 为文章添加目录；
* 主页增加搜索栏；
* 升级 blackfriday 为 v2；
* 为侧边栏的阴影遮罩层添加淡入淡出动画；
* 将更新日志独立；
* 评论区域下方增加回到顶部按钮。

## 2020/12/17

### 开发内容

* 文章页面内的标题支持锚点跳转，并增加相应特效；

![20.12.17.1](/statics/images/blog/6/20.12.17.1.png)

* 文章页面内的`Header`会在用户进行锚点跳转或向下滚动时自动隐藏，在向上滚动时重新出现；
* 使用 CSS 的媒体查询重写了响应式布局的实现方式；
* 修改“只言”的名称为“碎语”

### 开发计划
* 为文章添加目录；
* 主页增加搜索栏；
* 升级 blackfriday 为 v2；
* 为侧边栏的阴影遮罩层添加淡入淡出动画
* 评论区域下方增加回到顶部按钮。

## 2020/12/16

### 开发内容

* 文章页面通过`Katex`增加了对数学公式解析的支持（感谢`Victor`大佬的指导）

![20.12.16.1](/statics/images/blog/6/20.12.16.1.png)

* 文章页面增加了`header`与侧边栏；

![20.12.16.2](/statics/images/blog/6/20.12.16.2.png)

* 文章页面背景、排版、自适应逻辑进一步优化。

![20.12.16.3](/statics/images/blog/6/20.12.16.3.png)
![20.12.16.4](/statics/images/blog/6/20.12.16.4.png)

### 开发计划
* 为文章添加目录；
* 主页增加搜索栏；
* 升级 blackfriday 为 v2；
* 为侧边栏的阴影遮罩层添加淡入淡出动画
* 评论区域下方增加回到顶部按钮。

## 2020/12/14

### 开发内容
* 删除了“只言”页面的管理员后台管理页面，改为通过 API 方式访问；
* 增加了修改“只言”内容的 API；
* 对修改“只言”内容的 API 增加了 Cookie 鉴权，并做了一个小彩蛋；
* 增加了设置 Cookie 的 API；
* “只言”现已可获取地理位置（手动添加）；
* 修复了“只言”页面内卡片会正序显示的 feature；
* 减小了“只言”页面内卡片的间距；
* 优化侧边栏逻辑，去除了侧边栏隐藏状况下 url 中的无用 query，使 url 得以缩短
* 优化了评论成功后的通知逻辑，防止无通知权限时无法告知用户，同时使代码更趋于规范。

### 开发计划
* 为文章添加目录；
* 为文章添加侧边栏；
* 主页增加搜索栏；
* 为侧边栏的阴影遮罩层添加淡入淡出动画
* 评论区域下方增加回到顶部按钮。

## 2020/12/13

### 开发内容
* 增加了“只言”页面；
* 其他细节修改及重构。

![](/statics/images/blog/6/9.png)

### 开发计划
* 只言可以检测地理位置（目前是无论在哪儿发都是重庆）；
* 管理员后台给弄个加密；
* 为文章添加目录；
* 为文章添加侧边栏；
* 主页增加搜索栏；
* 为侧边栏的阴影遮罩层添加淡入淡出动画
* 评论区域下方增加回到顶部按钮。

## 2020/12/12

### 开发内容
* 主页和关于页面去除了顶栏链接设计，改为侧边栏（防止以后出现更多链接导致顶栏空间不足而被占满）；
* 顶栏定位方式由`absolute`改为`fixed`；
* 侧边栏中增加了新分类，内容暂时为空。

![](/statics/images/blog/6/8.png)

* 修复了在首页中屏幕尺寸放大时可能导致封面图片无法加载的 bug。

### 开发计划
* 评论区域下方增加回到顶部按钮；
* 主页文章卡片增加创建时间；

## 2020/12/09

### 开发内容
* Markdown 文件的解析方式更改：
	* 以前：传输 Markdown 源代码至客户端，再在前端通过 marked.js 进行解析；
	* 现在：先在后端通过 blackfriday 进行解析，然后通过 template 直接返回解析好的 HTML 源代码。

### 开发计划
* 评论区域下方增加回到顶部按钮；
* 主页文章卡片增加创建时间；

## 2020/12/05

### 开发内容
* 增加了顶赞操作时“Like”图标随目前赞数正负而不同的特效（共四种）;
* “Like”赞数改为通过伪元素显示;
* 对不存在的文章页面返回 404；
* 将通知页面更改为关于页面，并增加了友链

### 开发计划
* 评论区域下方增加回到顶部按钮；
* 主页文章卡片增加创建时间；

## 2020/12/04

### 开发内容
对评论界面进行大幅优化，细节过多，难以记述，建议直接看图：

![7](/statics/images/blog/6/7.png)

图中未直接表现出来的功能列举如下：

* 可自定义用户名，头像，并可保存在本地；
* 顶踩按钮增加鼠标悬浮特效；
* 输入框与提交按钮增加鼠标悬浮特效；
* “Like”图标会随赞数正负而改变（红心与心碎）；
* 顶赞操作时“Like”图标会出现特效，并随是否为赞或踩而产生速度上的不同（共两种）

### 开发计划
* 评论区域下方增加回到顶部按钮；
* 在关于页面增加友链（虽然目前并没有）；
* 主页文章卡片增加创建时间；

## 2020/12/03

### 开发内容
* 优化了 markdown 中引用的样式；

![5](/statics/images/blog/6/5.png)

* 取消了评论修改时间的保存与显示，并且在低分屏下会自动隐藏评论时间只显示日期以节约空间

![6](/statics/images/blog/6/6.png)

### 开发计划
* 评论区域下方增加回到顶部按钮；
* 在关于页面增加友链（虽然目前并没有）；
* 主页文章卡片增加创建时间；
* 完善博文的评论系统：
	* 关联用户信息；
	* 优化小屏设备的显示；
	* 优化评论界面。

## 2020/11/27

### 开发内容
* 文章页面内部封面居中显示；
* 更改文字选中时的背景样式为粉紫色（~~抄袭~~借鉴了红岩软件站）；
* 评论系统使用了 Web Notification，评论成功后显示通知消息；
* 修复了在某些临界情况下宽度足够文章页面仍显示横向滚动条的bug；

![2](/statics/images/blog/6/2.png)
![3](/statics/images/blog/6/3.png)
![4](/statics/images/blog/6/4.png)

### 开发计划
* 评论区域下方增加回到顶部按钮；
* 在关于页面增加友链（虽然目前并没有）；
* 主页文章卡片增加创建时间；
* 完善博文的评论系统：
	* 关联用户信息；
	* 优化小屏设备的显示；
	* 可以删除评论。

## 2020/11/26

### 开发内容
* 优化了主页在小屏设备（主要指移动端）的显示
* 优化了文章页面在小屏设备（主要指移动端）的显示
* 优化了通知页面在小屏设备（主要指移动端）的显示
* 其他多处自适应与显示的细小优化

![1](/statics/images/blog/6/1.png)

### 开发计划
* 评论区域下方增加回到顶部按钮；
* 在关于页面增加友链（虽然目前并没有）；
* 主页文章卡片增加创建时间；
* 完善博文的评论系统，例如关联用户信息。
* 首页预览图改为加载缩略图；
* 文章页面内部封面居中显示；

## 2020/11/25

### 开发内容
* 增加了导航栏，可以跳转至主页
* 删除了主页中的通知栏，将其转移到单独页面，可在导航栏进行跳转
* 稍微优化了主页的自适应，并略微调高了预览内容的加载长度（150->180）

### 开发计划
* 评论区域下方增加回到顶部按钮；
* 在关于页面增加友链（虽然目前并没有）；
* 主页文章卡片增加创建时间；
* 完善博文的评论系统，例如关联用户信息。
* 首页预览图改为加载缩略图；
* 文章页面内部封面居中显示；















